<!-- =============================================
     AGENDA ROADMAP SECTION
     ============================================= -->
<div id="agenda"></div>
<div class="agenda-widget">
    <div class="roadmap-line"></div>
    <div class="agenda-scroll-area" id="agendaScrollTrack">

        <div class="agenda-item">
            <div class="header-box">
                <h1 style="font-size: 3rem; color: var(--dark-blue); margin: 0; line-height: 1; text-transform: uppercase;">Agenda<br>at a Glance</h1>
                <p style="font-size: 1.1rem; color: var(--dark-green); text-transform: uppercase; font-weight: 700; letter-spacing: 2px; margin-top: 10px;">Minneapolis, MN • 2026</p>
                <div style="margin-top: 20px; color: #999; font-weight: 600;">↓ Scroll to Begin</div>
            </div>
        </div>

        <div class="agenda-item left" data-graphic="welcome">
            <div class="agenda-card">
                <div class="day-marker">Day 1 • Monday</div>
                <div class="time-display">12:15 <span>PM</span> <div class="tag tag-green">Opening</div></div>
                <h3 class="card-title">Opening Welcome & Introduction</h3>
                <div class="speaker-row">
                    <img src="https://custom.cvent.com/4DC85802658B432AB1FD735BC8F5B457/pix/4e4653cc37d949ab9c7de47c78da81fb.jpg" class="speaker-img">
                    <div class="speaker-info"><h4>Martha Roherty</h4><p>Executive Director</p></div>
                </div>
            </div>
            <div class="agenda-graphic">
                <svg viewBox="0 0 200 200" class="graphic-svg">
                    <circle class="graphic-circle-1" cx="100" cy="100" r="80" fill="none" stroke="var(--light-green)" stroke-width="3"/>
                    <circle class="graphic-circle-2" cx="100" cy="100" r="60" fill="none" stroke="var(--dark-blue)" stroke-width="2"/>
                    <circle class="graphic-circle-3" cx="100" cy="100" r="40" fill="none" stroke="var(--light-blue)" stroke-width="2"/>
                    <path class="graphic-star" d="M100,20 L108,80 L160,100 L108,120 L100,180 L92,120 L40,100 L92,80 Z" fill="var(--light-green)" opacity="0.3"/>
                </svg>
            </div>
        </div>

        <div class="agenda-item left" data-graphic="policy">
            <div class="agenda-card">
                <div class="day-marker">Day 2 • Tuesday</div>
                <div class="time-display">9:00 <span>AM</span> <div class="tag tag-blue">Session</div></div>
                <h3 class="card-title">Policy Update</h3>
                <div class="speaker-row">
                    <img src="https://custom.cvent.com/4DC85802658B432AB1FD735BC8F5B457/pix/9c9139b17ba34ac4932504eba2c7a8e4.jpg" class="speaker-img">
                    <div class="speaker-info"><h4>Abby Cox</h4><p>Senior Director of Aging Policy</p></div>
                </div>
            </div>
            <div class="agenda-graphic">
                <svg viewBox="0 0 200 200" class="graphic-svg">
                    <rect class="graphic-rect-1" x="40" y="40" width="120" height="120" rx="10" fill="none" stroke="var(--dark-blue)" stroke-width="3" transform="rotate(15 100 100)"/>
                    <rect class="graphic-rect-2" x="55" y="55" width="90" height="90" rx="8" fill="none" stroke="var(--light-blue)" stroke-width="2" transform="rotate(-10 100 100)"/>
                    <rect class="graphic-rect-3" x="70" y="70" width="60" height="60" rx="6" fill="var(--light-green)" opacity="0.2" transform="rotate(5 100 100)"/>
                    <line class="graphic-line-1" x1="30" y1="170" x2="170" y2="170" stroke="var(--dark-green)" stroke-width="4" stroke-linecap="round"/>
                    <line class="graphic-line-2" x1="50" y1="155" x2="130" y2="155" stroke="var(--light-blue)" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
        </div>

        <div class="agenda-item left" data-graphic="panel">
            <div class="agenda-card">
                <div class="day-marker">Day 2 • Tuesday</div>
                <div class="time-display">10:30 <span>AM</span> <div class="tag tag-blue">Panel</div></div>
                <h3 class="card-title">Aging, Caregiving, and Disabilities Hot Topics</h3>
                <div class="speaker-row">
                    <img src="https://custom.cvent.com/4DC85802658B432AB1FD735BC8F5B457/pix/aca7a6c9ff9f48f7b0107218632e89bd.jpg" class="speaker-img">
                    <div class="speaker-info"><h4>April Young</h4><p>Sr. Managing Director</p></div>
                </div>
            </div>
            <div class="agenda-graphic">
                <svg viewBox="0 0 200 200" class="graphic-svg">
                    <circle class="graphic-dot-1" cx="60" cy="80" r="25" fill="var(--dark-blue)" opacity="0.8"/>
                    <circle class="graphic-dot-2" cx="140" cy="80" r="25" fill="var(--light-blue)" opacity="0.8"/>
                    <circle class="graphic-dot-3" cx="100" cy="140" r="25" fill="var(--light-green)" opacity="0.8"/>
                    <line class="graphic-connect-1" x1="60" y1="80" x2="140" y2="80" stroke="var(--dark-green)" stroke-width="2" stroke-dasharray="5,5"/>
                    <line class="graphic-connect-2" x1="60" y1="80" x2="100" y2="140" stroke="var(--dark-green)" stroke-width="2" stroke-dasharray="5,5"/>
                    <line class="graphic-connect-3" x1="140" y1="80" x2="100" y2="140" stroke="var(--dark-green)" stroke-width="2" stroke-dasharray="5,5"/>
                </svg>
            </div>
        </div>

    </div>
</div>

<script>
    const track = document.getElementById('agendaScrollTrack');
    const items = document.querySelectorAll('.agenda-item');
    let currentIndex = 0;
    let isScrolling = false;

    function centerCard(index) {
        if (index < 0 || index >= items.length) return;
        currentIndex = index;
        const target = items[index];

        items.forEach(el => el.classList.remove('is-focused'));
        target.classList.add('is-focused');

        const containerCenter = track.clientHeight / 2;
        const cardCenter = target.offsetTop + (target.clientHeight / 2);
        const scrollPos = cardCenter - containerCenter;

        track.scrollTo({ top: scrollPos, behavior: 'smooth' });
    }

    track.addEventListener('wheel', (e) => {
        if (window.innerWidth > 900) {
            const direction = e.deltaY > 0 ? 1 : -1;
            const nextIndex = currentIndex + direction;

            if (nextIndex < 0 || nextIndex >= items.length) {
                window.scrollBy({ top: e.deltaY, behavior: 'auto' });
                return;
            }

            e.preventDefault();
            if (isScrolling) return;

            isScrolling = true;
            centerCard(nextIndex);
            setTimeout(() => { isScrolling = false; }, 500);
        }
    }, { passive: false });

    items.forEach((item, i) => {
        item.addEventListener('click', () => centerCard(i));
    });

    setTimeout(() => centerCard(0), 100);
</script>
